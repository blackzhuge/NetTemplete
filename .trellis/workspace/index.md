# 工作区索引

> 所有开发者与 AI 助手协作的工作记录

---

## 概述

本目录跟踪所有与 AI 助手在此项目上协作的开发者的记录。

### 文件结构

```
workspace/
|-- index.md              # 本文件 - 主索引
\-- {developer}/          # 每个开发者的目录
    |-- index.md          # 个人索引，包含会话历史
    |-- tasks/            # 任务文件
    |   |-- *.json        # 活跃任务
    |   \-- archive/      # 按月归档的任务
    \-- journal-N.md      # 日志文件（顺序：1, 2, 3...）
```

---

## 活跃开发者

| 开发者 | 最近活跃 | 会话数 | 活跃文件 |
|--------|----------|--------|----------|
| (暂无) | - | - | - |

---

## 开始使用

### 新开发者

运行初始化脚本：

```bash
./.trellis/scripts/init-developer.sh <your-name>
```

这将：
1. 创建你的身份文件（已 gitignore）
2. 创建你的进度目录
3. 创建你的个人索引
4. 创建初始日志文件

### 返回的开发者

1. 获取你的开发者名称：
   ```bash
   ./.trellis/scripts/get-developer.sh
   ```

2. 阅读你的个人索引：
   ```bash
   cat .trellis/workspace/$(./.trellis/scripts/get-developer.sh)/index.md
   ```

---

## 规范

### 日志文件规则

- 每个日志文件**最多 2000 行**
- 达到限制时，创建 `journal-{N+1}.md`
- 创建新文件时更新你的个人 `index.md`

### 会话记录格式

每个会话应包含：
- 摘要：一行描述
- 主要变更：修改了什么
- Git 提交：提交哈希和消息
- 下一步：接下来做什么

---

## 会话模板

记录会话时使用此模板：

```markdown
## 会话 {N}: {标题}

**日期**: YYYY-MM-DD
**任务**: {task-name}

### 摘要

{一行摘要}

### 主要变更

- {变更 1}
- {变更 2}

### Git 提交

| 哈希 | 消息 |
|------|------|
| `abc1234` | {提交消息} |

### 测试

- [OK] {测试结果}

### 状态

[OK] **已完成** / # **进行中** / [P] **已阻塞**

### 下一步

- {下一步 1}
- {下一步 2}
```

